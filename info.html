<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ASSIGNME – Infos</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet" />
  <style>
    :root{
      --blue1:#6495ed; --blue2:#87ceeb; --text:#e8f4ff; --muted:#b8c8e8;
      --border: rgba(100,149,237,.3);
    }
    *{box-sizing:border-box} html,body{margin:0; background:#000; color:var(--text); font-family:'Inter',system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    header{
      width:100%; padding:20px 40px; display:flex; justify-content:space-between; align-items:center;
      position:fixed; top:0; left:0; z-index:1000;
      background:rgba(0,0,0,.95); backdrop-filter:blur(15px);
      border-bottom:2px solid var(--border); box-shadow:0 4px 20px rgba(100,149,237,.1)
    }
    .logo-header{display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.06em; text-transform:uppercase}
    .logo-header img{height:50px; width:auto}
    .contact-btn{
      padding:12px 24px; border-radius:25px; text-decoration:none; font-weight:800; letter-spacing:.06em; text-transform:uppercase;
      background:linear-gradient(45deg,var(--blue1),var(--blue2)); color:#0f0f23; box-shadow:0 6px 18px rgba(100,149,237,.45); transition:.25s ease
    }
    .contact-btn:hover{transform:translateY(-2px); box-shadow:0 10px 26px rgba(100,149,237,.6)}
    main{max-width:900px; margin:0 auto; padding:140px 20px 40px}
    h1{font-size:2.2rem; color:#b0e0e6; margin:0 0 10px}
    p.lead{color:var(--muted); margin:0 0 24px}
    .card{background:#000; border:1px solid rgba(100,149,237,.25); border-radius:16px; padding:22px; margin-bottom:16px; box-shadow:0 6px 20px rgba(100,149,237,.12)}
    /* Q&A widget */
    .qa-wrap{max-width:640px; margin:22px 0 0}
    #qa-answer{display:none; border:1px solid rgba(100,149,237,.35); border-radius:10px; padding:12px; background:rgba(255,255,255,.04); color:var(--text); margin-bottom:10px; white-space:pre-wrap}
    .qa-row{display:flex; gap:8px}
    #qa-input{flex:1; padding:12px; border-radius:10px; border:1px solid rgba(100,149,237,.5); background:#0b0f17; color:var(--text); outline:none}
    #qa-input:focus{box-shadow:0 0 0 3px rgba(100,149,237,.25); border-color:var(--blue1)}
    #qa-send{padding:12px 16px; border:none; border-radius:10px; font-weight:800; background:#cfe0ff; color:#001; cursor:pointer}
    #qa-send:hover{background:#dff0ff}
    footer{background:#000; padding:40px 20px; text-align:center; border-top:1px solid rgba(100,149,237,.2)}
    .footer-content{max-width:1200px; margin:0 auto; color:#87ceeb}
    @media (max-width:768px){
      header{padding:15px 20px} .logo-header img{height:40px} .contact-btn{padding:10px 16px; font-size:12px}
      main{padding-top:110px}
    }
  </style>
</head>
<body>
  <header>
    <div class="logo-header">
      <img src="logo.png" alt="Assignme Logo"> ASSIGNME
    </div>
    <a class="contact-btn" href="mailto:contact@assignme.fr">Nous contacter</a>
  </header>

  <main>
    <h1>En savoir plus</h1>
    <p class="lead">Vision, feuille de route et innovation DeepTech d’ASSIGNME.</p>

    <div class="card">
      <h2>Notre vision</h2>
      <p>ASSIGNME simplifie et accélère le recrutement en alignant compétences et opportunités grâce à l’IA.</p>
    </div>

    <div class="card">
      <h2>Feuille de route</h2>
      <p>Pilotes, intégrations et industrialisation progressive. Pour les détails, posez votre question ci-dessous.</p>
    </div>

    <!-- Q&A : colle ton PDF assignme.pdf à la racine du site -->
    <div class="qa-wrap">
      <div id="qa-answer"></div>
      <div class="qa-row">
        <input id="qa-input" type="text" placeholder="Pose ta question" />
        <button id="qa-send">Envoyer</button>
      </div>
    </div>
  </main>

  <footer>
    <div class="footer-content">
      <p>&copy; 2025 ASSIGNME. Tous droits réservés. | Une innovation DeepTech française</p>
    </div>
  </footer>

  <!-- Appel Netlify Function -->
  <script>
    const API_URL = '/.netlify/functions/ask'; // ne change pas cette ligne

    const input = document.getElementById('qa-input');
    const send  = document.getElementById('qa-send');
    const box   = document.getElementById('qa-answer');

    function showAnswer(text){
      box.style.display = 'block';
      box.textContent = text;
      box.scrollIntoView({ behavior:'smooth', block:'nearest' });
    }

    async function ask(question){
      showAnswer('…');
      try{
        const res = await fetch(API_URL, {
          method:'POST',
          headers:{ 'Content-Type':'application/json' },
          body: JSON.stringify({ question })
        });
        const data = await res.json();
        showAnswer(data.answer || "Ce point n'est pas précisé dans le dossier.");
      }catch(e){
        showAnswer("Ce point n'est pas précisé dans le dossier.");
      }
    }

    function submit(){
      const q = (input.value || '').trim();
      if(!q) return;
      ask(q);
      input.value=''; input.focus();
    }

    send.addEventListener('click', submit);
    input.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ e.preventDefault(); submit(); } });
  </script>
</body>
</html>
